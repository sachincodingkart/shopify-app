{% if my_wish_list == 'my_wish_link' %}
<style>
body {
  font-family: "Lato", sans-serif;
}

.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  right: 0;
  background-color: #f9fafb;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}

.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 12px;
  color: #818181;
  display: block;
  transition: 0.3s;
}

.sidenav a:hover {
  color: #f1f1f1;
}

.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left: 50px;
}

@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 12px;}
}
.my_wsih_head{
    text-align: center;
    font-size: 20px;
    left: 40px;
}

.my_wish_pro{
   font-size: 12px;
    color: black;
    border-bottom: 0px solid currentColor;
}  
</style>
<div id="mySidenav" class="sidenav">
<!--   <a href="javascript:void(0)" class="closebtn">&times;</a> -->
<h3 class="my_wsih_head">My Wish List</h3>
<div class="">
       <table class="table table-striped">
        <thead>
          <tr role="row">
            <th class="table_head sorting_disabled" style="width: 250px;">Products</th>
            <th class="table_head sorting_disabled" style="width: 100px;">Action</th>
          </tr>
        </thead>    
      <tbody class="replace_Tbody">
         <tr role="row" class="odd">
         </tr>
      </tbody>
 </table>
</div>
</div>
  <a class="my_wish_View" href="#">Wishlist (<span class="my_wish_Count">0</span>)</a>
{% elsif my_wish_list == 'my_wish_product' %}
<div class="my_wish_AddWrap">
  <a class="my_wish_Add add_to_wish_list" href="#" prod_id="{{ product.id }}" prod_title="{{ product.title }}" p_currency="{{ cart.currency.symbol }}">Add to Wishlist</a>
  {% unless customer %}<p class="my_wish_LoginMsg" style="display: none;">Your wishlist has been temporarily saved. Please <a href="/account/login">Log in</a> to save it permanently.</p>{% endunless %}
</div>
{% elsif my_wish_list == 'my_wish_Collection' %}
  <a class="my_wish_AddColl my_wish_check" href="#" data-variant="{{ product.variants.first.id }}" data-product="{{ product.id }}" data-pTitle="{{ product.title | escape }}">Add to Wishlist</a>
{% elsif my_wish_list == 'my_wish_footer' %}
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript">
 var my_wish_items = [];

 jQuery(document).ready(function(){
  get_wish_item();

  jQuery(document).on('click','.add_to_wish_list',function(){  
    var prod_details_arr   = {};
    var pro_id             = jQuery(this).attr('prod_id');
    var prod_title         = jQuery(this).attr('prod_title');
    var cust_id            = __st.cid;
    var p_currency = jQuery(this).attr('p_currency');
    var url        = prod_title.replace(/\s+/g, '-').toLowerCase();
    
    prod_details_arr['product_id']    = pro_id;
    prod_details_arr['product_title'] = prod_title;
    prod_details_arr['product_src']   = prod_title;
    prod_details_arr['product_url']   = url;
    
    var pro_obj  =  localStorage.getItem("my_wish_items");
    if(pro_obj != null ){
     my_wish_items = JSON.parse(pro_obj);
     }
    my_wish_items.push(prod_details_arr);
    my_wish_obj = my_wish_items.filter(function(elem, index, self) {
        return index === self.indexOf(elem);
    });
   
   jQuery('.my_wish_Count').text(my_wish_obj.length);
   localStorage.setItem('my_wish_items', JSON.stringify(my_wish_obj));
     
      
     data = {"cust_id": cust_id, "pro_id": my_wish_obj,"p_currency": p_currency, "shop_name": Shopify.shop}; 
     if( cust_id ) {
         jQuery.ajax({
             type:'POST',
             url: 'https://cors-anywhere.herokuapp.com/'+'https://obscure-forest-68133.herokuapp.com/add-to-wish',
             data: data,
             dataType: "json",
             success: function (data) {
                  console.log(data);
                   // jQuery('.my_wish_Count').text(my_wish_obj.length);
                  },
            });
       }
      else{
         jQuery('.my_wish_LoginMsg').css({"display":"block"});     
      }
   });
     
    jQuery(document).on('click','.my_wish_View',function(){ 
      get_wish_item();
      jQuery('#mySidenav').css({"width":"350px"});
     });

    function get_wish_item()
    {
     var my_wish_items = localStorage.getItem("my_wish_items");
     var i            = '';
     var trHTML       = '';
     var cust_id      = __st.cid;
     data = {"cust_id": cust_id,"shop_name": Shopify.shop, "pro_arr": my_wish_items};
     if(cust_id) {
       jQuery.ajax({
           type:'POSt',
           url: 'https://cors-anywhere.herokuapp.com/'+'https://obscure-forest-68133.herokuapp.com/get_wish_list',
           data: data,
           dataType: "json",
           success: function (data) {
              trHTML += '<tbody class="replace_Tbody">';
              for(i = 0; i< data.length; i++ )
               {
                trHTML += '<tr role="row" class="odd">';
                trHTML +='<td class="table_data"><a href="'+data[i].product_url+'" class="my_wish_pro"><img src="'+data[i].product_src+'" height="50" width="50" alt=""></a><a href="'+data[i].product_url+'" class="my_wish_pro">Antique Drawers</a></td>'

               trHTML +='<td class="table_data"><a href="#" pro_id="'+data[i].product_id+'" class="my_wish_pro recDelete_pro"><i class="fa fa-trash-o" aria-hidden="true"></i> REMOVE</a></td>'
               trHTML +='</tr>'
               }
                trHTML += '</tbody>';
                jQuery('.my_wish_Count').text(data.length);
                jQuery('.replace_Tbody').replaceWith(trHTML);
               }
           });
      } 
  else{ 
       
        var pro_obj  =  localStorage.getItem("my_wish_items");

        if(pro_obj != null ){
        var pro_data =  JSON.parse(pro_obj);
            trHTML += '<tbody class="replace_Tbody">';
            for(i = 0; i< pro_data.length; i++ )
             {  
                trHTML += '<tr role="row" class="odd">';
                 trHTML +='<td class="table_pro_data"><a href="'+pro_data[i].product_url+'" class="my_wish_pro"><img src="'+pro_data[i].product_src+'" height="50" width="50" alt=""></a><a href="'+pro_data[i].product_url+'" class="my_wish_pro">'+pro_data[i].product_title+'</a></td>'

                 trHTML +='<td class="table_pro_data"><a href="#" pro_id="'+pro_data[i].product_id+'" class="my_wish_pro recDelete_pro"><i class="fa fa-trash-o" aria-hidden="true"></i> REMOVE</a></td>'
                 trHTML +='</tr>'
              } 
               trHTML += '</tbody>';
                jQuery('.my_wish_Count').text(pro_data.length);
                jQuery('.replace_Tbody').replaceWith(trHTML);
           }
       }  
    }
      
    jQuery('body').click(function() {
        jQuery('#mySidenav').css({"width":"0px"});
    });
  }); 
</script>
{% endif %}